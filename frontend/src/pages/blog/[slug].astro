---
import BaseLayout from "../../layouts/BaseLayout.astro";
import type { BlogPost } from "../../data/blogPosts";
import { blogPosts } from "../../data/blogPosts";

export async function getStaticPaths() {
  return blogPosts.map((post) => ({
    params: { slug: post.slug },
    props: { post },
  }));
}

const { post } = Astro.props as { post: BlogPost };
const paragraphs = post.content.split("\n\n");
---

<BaseLayout title={post.title}>
  <main class="min-h-screen pb-16">
    <div class="max-w-3xl mx-auto px-4 pt-6">
      <a
        href="/blog"
        class="inline-flex items-center gap-2 text-sm text-white/60 hover:text-white/90 transition-colors"
      >
        <span aria-hidden="true">â†</span>
        <span>Volver al blog</span>
      </a>
    </div>

    <article class="max-w-3xl mx-auto px-4 pt-6 md:pt-8">
      <!-- CategorÃ­a -->
      <div class="mb-3">
        <span class="inline-flex items-center px-3 py-1 rounded-full bg-sky-500/15 border border-sky-500/40 text-xs font-semibold text-sky-300">
          {post.category}
        </span>
      </div>

      <!-- TÃ­tulo -->
      <h1 class="text-2xl md:text-3xl lg:text-4xl font-extrabold tracking-tight text-white mb-4 md:mb-5">
        {post.title}
      </h1>

      <!-- Meta: AHORA EN BLANCO -->
      <div class="flex flex-wrap items-center gap-4 text-xs md:text-sm text-white mb-6 md:mb-8">
        <span class="inline-flex items-center gap-2">
          <span aria-hidden="true">ğŸ‘¤</span>
          <span>Ricardo Navarrete</span>
        </span>
        <span class="inline-flex items-center gap-2">
          <span aria-hidden="true">ğŸ“…</span>
          <span>{post.date}</span>
        </span>
        <span class="inline-flex items-center gap-2">
          <span aria-hidden="true">â±</span>
          <span>{post.readTime}</span>
        </span>
      </div>

      <!-- Contenido -->
      <div class="space-y-4 md:space-y-5 text-sm md:text-base text-white/80 leading-relaxed">
        {paragraphs.map((p) => (
          <p>{p}</p>
        ))}
      </div>

      <!-- CTA inferior: SOLO "MÃ¡s artÃ­culos" -->
      <div class="mt-10 md:mt-12 border-t border-white/10 pt-6 md:pt-8">
        <p class="text-xs md:text-sm text-white/60 mb-4">
          Â¿Te gustÃ³ este artÃ­culo? Puedes seguir viendo mÃ¡s contenido del blog.
        </p>
        <div class="flex flex-wrap gap-3">
          <a
            href="/blog"
            class="inline-flex items-center justify-center gap-2 rounded-2xl px-4 py-2 text-xs md:text-sm
                   font-semibold bg-slate-900/80 border border-white/15 text-white hover:bg-slate-800
                   transition-colors"
          >
            MÃ¡s artÃ­culos
          </a>
        </div>
      </div>
    </article>
  </main>
</BaseLayout>
